{"version":3,"sources":["webpack:///./src/components/publication-card.js","webpack:///./src/pages/publications.js","webpack:///./src/utils/group-by.js"],"names":["PublicationCard","node","key","id","className","dangerouslySetInnerHTML","__html","frontmatter","title","journal","to","fields","slug","keyGetter","publications","data","allMarkdownRemark","edges","groupedByYear","e","year","reduce","rv","x","push","years","Object","keys","sort","reverse","map","query"],"mappings":"8KAKaA,G,OAAkB,SAAC,GAAc,IAAZC,EAAW,EAAXA,KAChC,OACE,yBAAKC,IAAKD,EAAKE,GAAIC,UAAU,oBAC3B,wBAAIA,UAAU,0BAA0BC,wBAAyB,CAAEC,OAAQL,EAAKM,YAAYC,SAC5F,6BAAMP,EAAKM,YAAYE,SACvB,kBAAC,IAAD,CAAML,UAAU,8BAA8BM,GAAIT,EAAKU,OAAOC,MAA9D,gB,sCCHS,sBAAe,ICPFC,EDQtBC,EADuB,EAAXC,KACQC,kBAAkBC,MAEtCC,GCVsBL,EDUgB,SAAAM,GAAC,OAAIA,EAAElB,KAAKM,YAAYa,MAAtCN,ECTlBO,QAAO,SAASC,EAAIC,GAE5B,OADCD,EAAGT,EAAUU,IAAMD,EAAGT,EAAUU,KAAO,IAAIC,KAAKD,GAC1CD,IACN,KDQCG,EAAQC,OAAOC,KAAKT,GAAeU,OAAOC,UAE9C,OACE,kBAAC,IAAD,KACE,6BACE,0CAGA,yBAAKzB,UAAU,gBACZqB,EAAMK,KACL,SAAAV,GAAI,OACF,oCACE,wBAAIhB,UAAU,sBAAsBgB,GACnCF,EAAcE,GAAMU,KACnB,gBAAG7B,EAAH,EAAGA,KAAH,OAEI,kBAAC,EAAD,CAAiBA,KAAMA,EAAMC,IAAKD,EAAKE,gBArB9C,IAmCF4B,EAAK","file":"component---src-pages-publications-js-5b449846010d533b3e25.js","sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\n\nimport \"./publication-card.scss\"\n\nexport const PublicationCard = ({ node }) => {\n  return (\n    <div key={node.id} className=\"publication-card\">\n      <h3 className=\"publication-card__title\" dangerouslySetInnerHTML={{ __html: node.frontmatter.title }} />\n      <div>{node.frontmatter.journal}</div>\n      <Link className=\"publication-card__more-link\" to={node.fields.slug}>Подробнее</Link>\n    </div>\n  )\n}\n","import React from \"react\"\nimport Layout from \"../components/layout\"\nimport { graphql } from \"gatsby\"\nimport \"./publications.scss\"\nimport { PublicationCard } from \"../components/publication-card\"\nimport { groupBy } from \"../utils/group-by\"\n\nexport default ({ data }) => {\n  let publications = data.allMarkdownRemark.edges\n\n  let groupedByYear = groupBy(publications, e => e.node.frontmatter.year)\n\n  let years = Object.keys(groupedByYear).sort().reverse();\n\n  return (\n    <Layout>\n      <div>\n        <h1>\n          Публикации\n        </h1>\n        <div className=\"publications\">\n          {years.map(\n            year => (\n              <>\n                <h2 className=\"publications__year\">{year}</h2>\n                {groupedByYear[year].map(\n                  ({ node }) =>\n                    (\n                      <PublicationCard node={node} key={node.id} />\n                    ),\n                )}\n              </>\n            ),\n          )}\n\n\n        </div>\n      </div>\n    </Layout>\n  )\n}\n\nexport const query = graphql`\n    query {\n        allMarkdownRemark(filter: {fields: {type: {eq: \"publications\"}}}){\n            totalCount\n            edges {\n                node {\n                    id\n                    frontmatter {\n                        title\n                        journal\n                        year\n                    }\n                    fields {\n                        slug\n                    }\n                }\n            }\n        }\n    }\n`\n","export function groupBy(xs, keyGetter) {\n  return xs.reduce(function(rv, x) {\n    (rv[keyGetter(x)] = rv[keyGetter(x)] || []).push(x)\n    return rv\n  }, {})\n}\n\n"],"sourceRoot":""}